<div class="countainer-fluid page">
  <div class="page-heading mt-3 p-2">Select Box</div>
  <div class="page-body p-3 shadow">
    <div class="page-contant">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-6">
            <form action="" [formGroup]="selectBoxForm">
              <!--==================states============================ -->
              <p class="text-center">State</p>
              <select
                formControlName="states"
                class="form-select"
                [(ngModel)]="location.state_id"
                (change)="onChangeState($event)"
              >
                <option value="null">-Select-</option>
                <option
                  *ngFor="let state of states"
                  value="{{ state.state_id }}"
                >
                  {{ state.name }}
                </option>
              </select>

              <!-- ===================city============================ -->
              <p class="text-center">City</p>
              <select
                formControlName="cities"
                class="form-select"
                [(ngModel)]="location.city_id"
                (click)="onChangecity($event)"
              >
                <option value="null">-Select-</option>
                <option *ngFor="let city of cities" value="{{ city.city_id }}">
                  {{ city.name }}
                </option>
              </select>

              <!-- ===========================btn==================================== -->
              <span>
                <button
                  class="btn text-white mt-2"
                  style="background-color: rgb(20, 197, 94)"
                  (click)="saveData()"
                >
                  Save
                </button>
              </span>
            </form>
          </div>
        </div>
        <!-- ======================table======================= -->
        <div *ngIf="showTable == true">
          <div class="row justify-content-center mt-5">
            <div class="col-7">
              <table mat-table [dataSource]="places"  class="mat-elevation-z8">
                <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->

                <!--Places Name Column -->
                <ng-container matColumnDef="name">
                  <th mat-header-cell *matHeaderCellDef>Places Name</th>
                  <td mat-cell *matCellDef="let location"><a class="table-name-link"  routerLink='/selectbox/placedetails/{{location.place_id}}'>{{ location.name }}</a></td>
                </ng-container>

                <!--description  Column -->
                <ng-container matColumnDef="description">
                  <th mat-header-cell *matHeaderCellDef>Description</th>
                  <td mat-cell *matCellDef="let location">
                    {{ location.description }}
                  </td>
                </ng-container>

                <!-- Info Column -->
                <ng-container matColumnDef="wiki_link">
                  <th mat-header-cell *matHeaderCellDef>URL</th>
                  <td mat-cell *matCellDef="let location">
                    <a href="{{ location.wiki_link }}"
                      ><mat-icon class="table-item-icon">info</mat-icon></a
                    >
                  </td>
                </ng-container>
                
                 <!-- Icon Column -->
                 <ng-container matColumnDef="place_id">
                  <th mat-header-cell *matHeaderCellDef>icon</th>
                  <td mat-cell *matCellDef="let location">
                    <a (click)="placeDialog(location.place_id)"
                      ><mat-icon class="table-item-icon">file_open</mat-icon></a
                    >
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedColumns"
                ></tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
